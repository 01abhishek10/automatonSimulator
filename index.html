<!DOCTYPE HTML>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="css/smoothness/jquery-ui-1.10.0.custom.min.css" />
    <link rel="stylesheet" type="text/css" href="css/dfa_ui.css" />
  </head>
  
  <body>
    <div id="tools">
      <button onclick="dfa_ui.addState();">Add State</button>
    </div>
    <div id="machineGraph"></div>
    <div>
      Docs:
      <ul>
        <li><a href="http://jsplumb.org/doc/usage.html">jsPlumb</a></li>
        <li><a href="http://api.jquery.com/">jQuery</a></li>
      </ul>
    </div>
    
    <script src="js/jquery-1.9.0.min.js"></script>
    <script src="js/jquery-ui-1.10.0.custom.min.js"></script>
    <script src="js/jquery.jsPlumb-1.3.16-all-min.js"></script>
    <script src="js/DFA.js"></script>
    <script src="js/dfa_ui.js"></script>
    <script>
      $(function() {
        jsPlumb.Defaults.Container = $('#machineGraph');
        dfa_ui.setGraphContainer($('#machineGraph'));
        
        jsPlumb.importDefaults({
          ConnectorZIndex: 5,
          Endpoint : ["Dot", {radius:2}],
          HoverPaintStyle : {strokeStyle:"#42a62c", lineWidth:2},
          ConnectionOverlays : [
            ["Arrow", {
              location: 1,
              id: "arrow",
              length: 14,
              foldback: 0.8
              }],
            ["Label", {label:"FOO", id:"label"}]
          ]
        });
        
        jsPlumb.bind("click", jsPlumb.detach);
         
        jsPlumb.bind("connection", function(info) {
          info.connection.setPaintStyle({strokeStyle:"#0a0"});
          info.connection.getOverlay("label").setLabel(info.connection.id);
        });
      });
    </script>
  </body>
</html>
